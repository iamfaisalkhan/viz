<html>
	<head>
		<title> Donut Chart </title>
		<script type="text/javascript" src="d3.min.js"></script>
		<style type="text/css">
			#figure {
				width:400px;
				height: 400px;
			}
		</style>
	</head>
	<body>
		<div id="figure">
		</div>
		<script>
			
			var data  = [
							{"cat": "Statistics", "count" : 172},
							{"cat" : "Design", "count" : 136},
							{"cat" : "Business", "count" : 135},
							{"cat" : "Cartography", "count" : 101},
							{"cat" : "Information Science", "count" :  80},
							{"cat" : "Web Analytics", "count" : 68},
							{"cat" : "Programming", "count" : 50},
							{"cat" : "Engineering", "count" : 29},
							{"cat" : "Mathematics", "count" :  19},
							{"cat" : "Other", "count" : 41}
						];

			var width = 960, 
				height=500, 
				radius = Math.min(width, height) / 2;

			var depthColors = d3.scale.linear().domain([0, 172]).range(["white", "#821122"]);
			var color = d3.scale.ordinal()
				    			.range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"]);


			var arc = d3.svg.arc()
					.outerRadius(radius - 150)
					.innerRadius(radius - 10);

			var pie = d3.layout.pie().sort(null).value(function(d) { return d.count });

			var svg = d3.select("body").append("svg")
				.attr("width", width)
				.attr("height", height)
				.append("g")
				.attr("transform", "translate(" + width /2 + "," + height/2 + ")")


			d3.entries(data, function(data) {
				console.log(data)
				var g = svg.selectAll(".arc")
							.data(pie(data))
							.enter().append("g")
							.attr("class", "arc");

					// g.append("path")
					//  .attr("d", arc)
					//  .style("fill", function(d) { return color(d.count); });

					// g.append("text")
					//   .attr("transform", function(d) { return "translate(" + arc.centroid(d) + ")"; })
					//   .attr("dy", ".35em")
					//   .text(function(d) { return d.cat; });
			});
		</script>
	</body>
</html